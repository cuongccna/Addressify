# Addressify

**Biáº¿n Ä‘á»‹a chá»‰ lá»™n xá»™n thÃ nh Ä‘Æ¡n hÃ ng hoÃ n háº£o**

![Status](https://img.shields.io/badge/Status-Production%20Ready-brightgreen)
![Progress](https://img.shields.io/badge/Progress-90%25-blue)
![Version](https://img.shields.io/badge/Version-v2.0.0-success)
![Build](https://img.shields.io/badge/Build-Passing-success)
![Phase](https://img.shields.io/badge/Phase-5%20Complete-purple)

> **ğŸ‰ PhiÃªn báº£n v2.0 Ä‘Ã£ sáºµn sÃ ng cho Production!**  
> âœ… Multi-shop SaaS vá»›i authentication hoÃ n chá»‰nh  
> âœ… Email notifications + API keys + Webhooks + Scheduled jobs  
> âœ… Realtime quotes tá»« GHN + GHTK + VTP  
> âœ… 95%+ address accuracy vá»›i 11,979 wards  
> âœ… Production build passing (33 routes, 11 active jobs)

á»¨ng dá»¥ng Next.js chuyÃªn nghiá»‡p giÃºp ngÆ°á»i bÃ¡n hÃ ng online táº¡i Viá»‡t Nam chuáº©n hÃ³a Ä‘á»‹a chá»‰ giao hÃ ng vÃ  so sÃ¡nh phÃ­ ship tá»« cÃ¡c Ä‘Æ¡n vá»‹ váº­n chuyá»ƒn hÃ ng Ä‘áº§u.

## ğŸ® Demo trá»±c tuyáº¿n

á»¨ng dá»¥ng hiá»‡n Ä‘ang cháº¡y á»Ÿ cháº¿ Ä‘á»™ development vÃ  cÃ³ thá»ƒ Ä‘Æ°á»£c deploy lÃªn:
- **Vercel**: Deploy tá»± Ä‘á»™ng tá»« repository GitHub
- **Netlify**: Há»— trá»£ build Next.js
- **Local**: `npm run dev` Ä‘á»ƒ cháº¡y táº¡i localhost:3000

### Thá»­ nghiá»‡m vá»›i dá»¯ liá»‡u máº«u
1. Má»Ÿ á»©ng dá»¥ng
2. Nháº¥n "Táº£i máº«u" Ä‘á»ƒ load dá»¯ liá»‡u Ä‘á»‹a chá»‰ Viá»‡t Nam
3. Nháº¥n "Xá»­ lÃ½ Ä‘á»‹a chá»‰" Ä‘á»ƒ xem káº¿t quáº£ chuáº©n hÃ³a
4. Chá»n Ä‘á»‹a chá»‰ vÃ  nháº¥n "Xuáº¥t CSV" Ä‘á»ƒ táº£i file káº¿t quáº£

![Addressify Demo](https://github.com/user-attachments/assets/24941267-0177-4175-a374-e87af63fc1b3)

## ğŸ¯ Tráº¡ng thÃ¡i hiá»‡n táº¡i

### âœ… TÃ­nh nÄƒng Ä‘Ã£ hoÃ n thÃ nh vÃ  cÃ³ thá»ƒ sá»­ dá»¥ng

#### Core Features (Phase 1-3)
1. **Chuáº©n hÃ³a Ä‘á»‹a chá»‰ Viá»‡t Nam** - Hoáº¡t Ä‘á»™ng hoÃ n háº£o vá»›i 63 tá»‰nh thÃ nh
2. **Xá»­ lÃ½ Ä‘a Ä‘á»‹nh dáº¡ng** - Nháº­p vÄƒn báº£n thÃ´ hoáº·c CSV
3. **Chuyá»ƒn Ä‘á»•i 2-cáº¥p sang 3-cáº¥p** - TÆ°Æ¡ng thÃ­ch vá»›i API váº­n chuyá»ƒn
4. **So sÃ¡nh phÃ­ ship realtime** - GHN, GHTK, VTP vá»›i API thá»±c
5. **Xuáº¥t CSV** - Export Ä‘áº§y Ä‘á»§ thÃ´ng tin
6. **Giao diá»‡n responsive** - Hoáº¡t Ä‘á»™ng tá»‘t trÃªn má»i thiáº¿t bá»‹

#### Authentication & Multi-shop (Phase 4)
7. **Supabase Authentication** - ÄÄƒng kÃ½, Ä‘Äƒng nháº­p, quáº£n lÃ½ session
8. **Multi-shop SaaS** - Há»— trá»£ nhiá»u shop cho má»—i user
9. **Quote History** - LÆ°u trá»¯ vÃ  xem láº¡i lá»‹ch sá»­ bÃ¡o giÃ¡
10. **Database Integration** - Prisma ORM + Supabase PostgreSQL

#### Advanced Backend (Phase 5)
11. **Email Notifications** - Resend API vá»›i React Email templates
12. **API Key Management** - Táº¡o, quáº£n lÃ½ API keys vá»›i rate limiting
13. **Webhook Integrations** - 11 event types vá»›i HMAC signatures
14. **Scheduled Jobs** - 11 automated jobs vá»›i node-cron

### ğŸš§ TÃ­nh nÄƒng Ä‘ang phÃ¡t triá»ƒn  
1. **Advanced Analytics** - Dashboard thá»‘ng kÃª chi tiáº¿t
2. **In tem PDF** - In tem váº­n Ä‘Æ¡n hÃ ng loáº¡t

### ğŸ“‹ TÃ­nh nÄƒng chÆ°a báº¯t Ä‘áº§u
1. **Mobile App** - á»¨ng dá»¥ng di Ä‘á»™ng iOS/Android
2. **Payment Integration** - TÃ­ch há»£p thanh toÃ¡n
3. **Multi-language** - Há»— trá»£ Ä‘a ngÃ´n ngá»¯

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ¯ Xá»­ lÃ½ Ä‘á»‹a chá»‰ thÃ´ng minh
- **Chuáº©n hÃ³a Ä‘á»‹a chá»‰ Viá»‡t Nam**: Tá»± Ä‘á»™ng tÃ¡ch vÃ  chuáº©n hÃ³a Ä‘á»‹a chá»‰ thÃ nh Tá»‰nh/Quáº­n/PhÆ°á»ng
- **Chuyá»ƒn Ä‘á»•i 2-cáº¥p sang 3-cáº¥p**: TÆ°Æ¡ng thÃ­ch vá»›i API cá»§a cÃ¡c hÃ£ng váº­n chuyá»ƒn (GHN, GHTK)
- **Há»— trá»£ Ä‘a Ä‘á»‹nh dáº¡ng**: Nháº­p Ä‘á»‹a chá»‰ qua vÄƒn báº£n thÃ´ hoáº·c file CSV
- **Xá»­ lÃ½ hÃ ng loáº¡t**: CÃ³ thá»ƒ xá»­ lÃ½ nhiá»u Ä‘á»‹a chá»‰ cÃ¹ng lÃºc

### ğŸšš So sÃ¡nh phÃ­ váº­n chuyá»ƒn (Demo)
- **3 nhÃ  váº­n chuyá»ƒn**: GHN, GHTK, VNPost
- **TÃ­nh phÃ­ demo**: Æ¯á»›c tÃ­nh phÃ­ ship dá»±a trÃªn thuáº­t toÃ¡n mock data
- **Thá»i gian giao hÃ ng**: Hiá»ƒn thá»‹ thá»i gian Æ°á»›c tÃ­nh demo
- **So sÃ¡nh trá»±c quan**: Báº£ng so sÃ¡nh chi tiáº¿t giÃºp lá»±a chá»n tá»‘i Æ°u
- **LÆ°u Ã½**: Hiá»‡n táº¡i sá»­ dá»¥ng dá»¯ liá»‡u demo, chÆ°a káº¿t ná»‘i API thá»±c

### ğŸ“Š Xuáº¥t dá»¯ liá»‡u
- **Xuáº¥t CSV**: Export káº¿t quáº£ vá»›i Ä‘áº§y Ä‘á»§ thÃ´ng tin phÃ­ ship âœ…
- **In tem PDF**: UI sáºµn sÃ ng, tÃ­nh nÄƒng Ä‘ang Ä‘Æ°á»£c phÃ¡t triá»ƒn ğŸš§
- **Chá»n lá»c dá»¯ liá»‡u**: Chá»‰ xuáº¥t nhá»¯ng Ä‘á»‹a chá»‰ Ä‘Ã£ chá»n âœ…

### ğŸ” Authentication & Multi-shop (Phase 4)
- **Supabase Auth**: ÄÄƒng kÃ½, Ä‘Äƒng nháº­p, quáº£n lÃ½ session
- **Multi-shop SaaS**: Má»—i user cÃ³ thá»ƒ quáº£n lÃ½ nhiá»u shop
- **Quote History**: LÆ°u trá»¯ vÃ  xem láº¡i táº¥t cáº£ bÃ¡o giÃ¡
- **Shop Management**: CRUD operations cho shops
- **User Dashboard**: Dashboard cÃ¡ nhÃ¢n vá»›i thá»‘ng kÃª

### ğŸ”§ Advanced Backend Features (Phase 5)

#### ğŸ“§ Email Notifications (Phase 5A)
- **Resend Integration**: Professional email service
- **React Email Templates**: Welcome, Quote Generated, Daily Summary
- **Email Logging**: Track all sent emails
- **Notification Settings**: User preferences per email type

#### ğŸ”‘ API Key Management (Phase 5B)
- **Secure Generation**: Crypto-based with SHA-256 hashing
- **Permission System**: Read, Write, Admin permissions
- **Rate Limiting**: Per-key request limits
- **Usage Tracking**: Monitor API key usage
- **Management UI**: Full CRUD interface in settings

#### ğŸª Webhook Integrations (Phase 5C)
- **11 Event Types**: Quotes, Shops, API Keys, Emails, Webhooks
- **HMAC Signatures**: SHA-256 signed payloads
- **Auto Retry**: Exponential backoff for failures
- **Delivery Logs**: Complete webhook history
- **Test Webhooks**: Send test events
- **Management UI**: Configure and monitor webhooks

#### â° Scheduled Jobs (Phase 5D)
- **11 Automated Jobs**: Webhooks, Emails, Database maintenance
- **node-cron Scheduler**: Reliable cron-based scheduling
- **Job Categories**: 
  - Webhook maintenance (retry, cleanup, health monitoring)
  - Email automation (daily/weekly summaries)
  - Database maintenance (cleanup logs, optimize tables)
- **Manual Execution**: Run jobs on-demand via UI
- **Management UI**: Monitor and control all jobs

## ğŸ›  CÃ´ng nghá»‡ sá»­ dá»¥ng

### Frontend
- **Framework**: Next.js 15.5.3 vá»›i App Router
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **UI Components**: Custom components vá»›i Radix UI

### Backend & Database
- **Database**: Supabase PostgreSQL
- **ORM**: Prisma
- **Authentication**: Supabase Auth
- **Email**: Resend API vá»›i React Email
- **Scheduler**: node-cron

### External APIs
- **GHN**: Giao HÃ ng Nhanh API
- **GHTK**: Giao HÃ ng Tiáº¿t Kiá»‡m API
- **VTP**: Viettel Post API

### Deployment
- **Hosting**: Vercel-ready
- **Database**: Supabase Cloud
- **Environment**: Node.js 18+

## ğŸš€ CÃ i Ä‘áº·t vÃ  cháº¡y

### YÃªu cáº§u há»‡ thá»‘ng
- Node.js 18+ 
- npm hoáº·c yarn

### CÃ i Ä‘áº·t
```bash
# Clone repository
git clone https://github.com/cuongccna/Addressify.git
cd Addressify

# CÃ i Ä‘áº·t dependencies
npm install

# Cháº¡y development server
npm run dev
```

Táº¡o file mÃ´i trÆ°á»ng dá»±a trÃªn `.env.example` vÃ  Ä‘iá»n token GHN/GHTK tháº­t khi triá»ƒn khai thá»±c táº¿.

Má»Ÿ [http://localhost:3000](http://localhost:3000) Ä‘á»ƒ xem á»©ng dá»¥ng.

### Cáº¥u hÃ¬nh Environment Variables

Táº¡o file `.env.local` vá»›i cÃ¡c biáº¿n sau:

```env
# Database
DATABASE_URL="postgresql://..."

# Supabase
NEXT_PUBLIC_SUPABASE_URL="https://xxx.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJ..."

# Shipping APIs
GHN_API_TOKEN="your-ghn-token"
GHN_SHOP_ID="your-shop-id"
GHTK_API_TOKEN="your-ghtk-token"
VTP_API_TOKEN="your-vtp-token"

# Email (Phase 5A)
RESEND_API_KEY="re_xxxxx"
EMAIL_FROM="Addressify <noreply@addressify.vn>"

# Admin (Phase 5B, 5D)
ADMIN_USER_ID="your-supabase-user-uuid"

# Timezone (Phase 5D)
TZ="Asia/Ho_Chi_Minh"

# Optional: Job Configuration
ENABLE_JOB_RETRY_WEBHOOKS=true
ENABLE_JOB_SEND_DAILY_SUMMARIES=true
```

### Database Setup

```bash
# Generate Prisma client
npx prisma generate

# Run migrations
npx prisma migrate deploy

# (Optional) Seed database
npx prisma db seed
```

### Build cho production
```bash
# Build á»©ng dá»¥ng
npm run build

# Cháº¡y production server
npm start
```

## ğŸ“ HÆ°á»›ng dáº«n sá»­ dá»¥ng

### 1. Nháº­p Ä‘á»‹a chá»‰
- **VÄƒn báº£n thÃ´**: DÃ¡n danh sÃ¡ch Ä‘á»‹a chá»‰, má»—i Ä‘á»‹a chá»‰ má»™t dÃ²ng
- **CSV**: Upload hoáº·c dÃ¡n dá»¯ liá»‡u CSV (Ä‘á»‹a chá»‰ á»Ÿ cá»™t Ä‘áº§u tiÃªn)
- **Táº£i máº«u**: Sá»­ dá»¥ng dá»¯ liá»‡u máº«u Ä‘á»ƒ test

### 2. Xá»­ lÃ½ Ä‘á»‹a chá»‰
- Nháº¥n "Xá»­ lÃ½ Ä‘á»‹a chá»‰" Ä‘á»ƒ chuáº©n hÃ³a
- Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng:
  - TrÃ­ch xuáº¥t Tá»‰nh/ThÃ nh phá»‘
  - XÃ¡c Ä‘á»‹nh Quáº­n/Huyá»‡n
  - TÃ¬m PhÆ°á»ng/XÃ£
  - Chuyá»ƒn Ä‘á»•i Ä‘á»‹nh dáº¡ng cho API váº­n chuyá»ƒn

### 3. So sÃ¡nh phÃ­ ship
- Há»‡ thá»‘ng tá»± Ä‘á»™ng tÃ­nh phÃ­ cho 4 nhÃ  váº­n chuyá»ƒn
- Chá»n Ä‘á»‹a chá»‰ cáº§n so sÃ¡nh
- Xem chi tiáº¿t phÃ­ vÃ  thá»i gian giao hÃ ng

### 4. Xuáº¥t káº¿t quáº£
- Chá»n Ä‘á»‹a chá»‰ cáº§n xuáº¥t
- Nháº¥n "Xuáº¥t CSV" Ä‘á»ƒ táº£i file káº¿t quáº£
- File bao gá»“m: Äá»‹a chá»‰ gá»‘c, Ä‘á»‹a chá»‰ chuáº©n hÃ³a, phÃ­ ship cÃ¡c nhÃ  váº­n chuyá»ƒn

## ğŸ¯ VÃ­ dá»¥ Ä‘á»‹a chá»‰ Ä‘Æ°á»£c há»— trá»£

```
123 Nguyá»…n VÄƒn Linh, PhÆ°á»ng TÃ¢n Thuáº­n ÄÃ´ng, Quáº­n 7, TP.HCM
456 LÃª Duáº©n, P. Báº¿n NghÃ©, Q.1, Há»“ ChÃ­ Minh
789 HoÃ ng Hoa ThÃ¡m, Ba ÄÃ¬nh, HÃ  Ná»™i
321 Tráº§n HÆ°ng Äáº¡o, Quáº­n 1, TPHCM
654 Nguyá»…n Huá»‡, HoÃ n Kiáº¿m, HN
```

## ğŸ”§ Cáº¥u trÃºc dá»± Ã¡n

```
Addressify/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ globals.css     # Global styles
â”‚   â”‚   â”œâ”€â”€ layout.tsx      # Root layout
â”‚   â”‚   â””â”€â”€ page.tsx        # Home page
â”‚   â”œâ”€â”€ components/         # React components
â”‚   â”‚   â”œâ”€â”€ AddressProcessor.tsx
â”‚   â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â”‚   â”œâ”€â”€ GHNQuoteDemo.tsx
â”‚   â”‚   â”‚   â””â”€â”€ GHTKQuoteDemo.tsx
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ shipping-apis/  # HTTP clients cho cÃ¡c hÃ£ng váº­n chuyá»ƒn (GHN, GHTK, ...)
â”‚   â”œâ”€â”€ types/             # TypeScript definitions
â”‚   â”‚   â””â”€â”€ address.ts
â”‚   â””â”€â”€ utils/             # Utility functions
â”‚       â””â”€â”€ addressProcessor.ts
â”œâ”€â”€ public/                # Static assets
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ tsconfig.json
```

## ğŸŒŸ TÃ­nh nÄƒng ná»•i báº­t

### Thuáº­t toÃ¡n chuáº©n hÃ³a Ä‘á»‹a chá»‰
- **Nháº­n diá»‡n thÃ´ng minh**: Sá»­ dá»¥ng regex vÃ  fuzzy matching
- **Database tá»‰nh thÃ nh**: Há»— trá»£ Ä‘áº§y Ä‘á»§ 63 tá»‰nh thÃ nh Viá»‡t Nam
- **Xá»­ lÃ½ viáº¿t táº¯t**: Nháº­n diá»‡n cÃ¡c cÃ¡ch viáº¿t táº¯t phá»• biáº¿n (HCM, HN, TP.HCM...)
- **Loáº¡i bá» dáº¥u**: Chuáº©n hÃ³a Unicode vÃ  dáº¥u tiáº¿ng Viá»‡t

### TÃ­ch há»£p API váº­n chuyá»ƒn
- **GHN**: Giao HÃ ng Nhanh â€“ Truy váº¥n phÃ­ vÃ  dá»‹ch vá»¥ realtime qua API `/api/shipping/ghn/quote`
- **GHTK**: Giao HÃ ng Tiáº¿t Kiá»‡m â€“ Truy váº¥n phÃ­ + leadtime realtime qua API `/api/shipping/ghtk/quote`
- **VTP (Viettel Post)**: Truy váº¥n phÃ­ realtime qua API `/api/shipping/vtp/quote`
- **Aggregator**: Gom bÃ¡o giÃ¡ Ä‘a nhÃ  váº­n chuyá»ƒn qua API `/api/shipping/quotes`

> **LÆ°u Ã½**: GHN, GHTK vÃ  VTP Ä‘Ã£ Ä‘Æ°á»£c káº¿t ná»‘i trá»±c tiáº¿p; cáº§n cáº¥u hÃ¬nh `GHN_API_TOKEN`, `GHN_SHOP_ID`, `GHTK_API_TOKEN` vÃ  `VTP_API_TOKEN`.

## ğŸ“¡ GHN Quote API

- **Endpoint**: `POST /api/shipping/ghn/quote`
- **Headers**: `Content-Type: application/json`
- **Body**:
  ```json
  {
    "fromDistrictId": 1451,
    "fromWardCode": "20608",
    "toDistrictId": 1447,
    "toWardCode": "200101",
    "weightInGrams": 1200,
    "lengthInCm": 20,
    "widthInCm": 15,
    "heightInCm": 10
  }
  ```
- **Response**:
  ```json
  {
    "success": true,
    "quotes": [
      {
        "service": {
          "serviceId": 53321,
          "serviceTypeId": 2,
          "shortName": "EXP",
          "name": "Express",
          "expectedDeliveryTime": "2025-09-28"
        },
        "fee": {
          "total": 42000,
          "serviceFee": 40000,
          "codFee": 2000,
          "insuranceFee": 0,
          "discount": 0,
          "expectedDeliveryTime": "2025-09-28"
        }
      }
    ],
    "failures": []
  }
  ```

> Dá»¯ liá»‡u tráº£ vá» phá»¥ thuá»™c vÃ o token/Shop ID GHN tháº­t. Náº¿u thiáº¿u quyá»n truy cáº­p, API sáº½ tráº£ lá»—i `Token is not valid` vá»›i mÃ£ lá»—i 500.
> CÃ³ thá»ƒ cáº¥u hÃ¬nh `GHN_QUOTE_RATE_LIMIT` (request/phÃºt/IP) trong file `.env.local` Ä‘á»ƒ giá»›i háº¡n sá»‘ lÆ°á»£t truy váº¥n.

## ï¿½ GHTK Quote API

- **Endpoint**: `POST /api/shipping/ghtk/quote`
- **Headers**: `Content-Type: application/json`
- **Body**:
  ```json
  {
    "pickProvince": "TP. Há»“ ChÃ­ Minh",
    "pickDistrict": "Quáº­n 1",
    "pickAddress": "19 Nguyá»…n TrÃ£i",
    "province": "HÃ  Ná»™i",
    "district": "Quáº­n HoÃ n Kiáº¿m",
    "address": "25 LÃ½ ThÃ¡i Tá»•",
    "weightInGrams": 800,
    "transport": "road"
  }
  ```
- **Response**:
  ```json
  {
    "success": true,
    "quote": {
      "total": 36000,
      "shipFee": 32000,
      "insuranceFee": 1000,
      "codFee": 0,
      "returnFee": 0,
      "remoteAreasFee": 0,
      "vatFee": 3000,
      "deliveryType": "road",
      "warningMessage": null,
      "expectedDeliveryTime": "2025-09-28T19:00:00+07:00",
      "expectedPickupTime": "2025-09-27T08:00:00+07:00"
    },
    "leadtime": {
      "estimatedDays": 2,
      "expectedPickupTime": "2025-09-27T08:00:00+07:00",
      "expectedDeliveryTime": "2025-09-29T19:00:00+07:00"
    },
    "warnings": []
  }
  ```

> Thiáº¿t láº­p `GHTK_API_TOKEN` (vÃ  `GHTK_SHOP_ID` náº¿u cáº§n) Ä‘á»ƒ sá»­ dá»¥ng API thá»±c táº¿. CÃ³ thá»ƒ cáº¥u hÃ¬nh `GHTK_QUOTE_RATE_LIMIT` Ä‘á»ƒ giá»›i háº¡n sá»‘ request/phÃºt/IP. Náº¿u GHTK khÃ´ng tráº£ leadtime, API váº«n tráº£ phÃ­ thÃ nh cÃ´ng kÃ¨m `warnings` mÃ´ táº£ lá»—i.

## ï¿½ Phase 5 APIs

### Email API (Phase 5A)
- `POST /api/test-email` - Send test email
- `GET /api/notifications/settings` - Get notification preferences
- `PATCH /api/notifications/settings` - Update notification preferences

### API Key API (Phase 5B)
- `GET /api/api-keys` - List user's API keys
- `POST /api/api-keys` - Create new API key
- `PATCH /api/api-keys/[id]` - Update API key
- `DELETE /api/api-keys/[id]` - Delete API key
- `POST /api/api-keys/[id]/revoke` - Revoke API key
- `GET /api/api-keys/[id]/usage` - Get usage statistics

### Webhook API (Phase 5C)
- `GET /api/webhooks` - List user's webhooks
- `POST /api/webhooks` - Create webhook
- `PATCH /api/webhooks/[id]` - Update webhook
- `DELETE /api/webhooks/[id]` - Delete webhook
- `POST /api/webhooks/[id]/toggle` - Enable/disable webhook
- `POST /api/webhooks/[id]/test` - Send test event
- `GET /api/webhooks/[id]/logs` - Get delivery logs

### Scheduled Jobs API (Phase 5D - Admin Only)
- `GET /api/jobs` - List all jobs status
- `POST /api/jobs/[name]/run` - Run job manually
- `GET /api/jobs/start` - Check scheduler status
- `POST /api/jobs/start` - Start scheduler

> **LÆ°u Ã½**: Táº¥t cáº£ APIs yÃªu cáº§u authentication qua Supabase. Admin APIs cáº§n `ADMIN_USER_ID` khá»›p vá»›i user ID.

## ï¿½ğŸš§ Káº¿ hoáº¡ch phÃ¡t triá»ƒn & Tiáº¿n Ä‘á»™ thá»±c hiá»‡n

### âœ… Phase 1-3: Core Features (100% Complete)
- [x] **Xá»­ lÃ½ Ä‘á»‹a chá»‰ Viá»‡t Nam** (100%) - Chuáº©n hÃ³a vÃ  tÃ¡ch Ä‘á»‹a chá»‰ thÃ nh tá»‰nh/quáº­n/phÆ°á»ng
- [x] **Chuyá»ƒn Ä‘á»•i 2-cáº¥p sang 3-cáº¥p** (100%) - TÆ°Æ¡ng thÃ­ch vá»›i API váº­n chuyá»ƒn
- [x] **Giao diá»‡n ngÆ°á»i dÃ¹ng** (100%) - UI responsive vá»›i Tailwind CSS
- [x] **Nháº­p liá»‡u Ä‘a dáº¡ng** (100%) - Há»— trá»£ vÄƒn báº£n thÃ´ vÃ  CSV
- [x] **TÃ­ch há»£p API thá»±c** (100%) - GHN, GHTK, VTP realtime quotes
- [x] **Xuáº¥t CSV** (100%) - Export káº¿t quáº£ vá»›i Ä‘áº§y Ä‘á»§ thÃ´ng tin
- [x] **Xá»­ lÃ½ hÃ ng loáº¡t** (100%) - CÃ³ thá»ƒ xá»­ lÃ½ nhiá»u Ä‘á»‹a chá»‰ cÃ¹ng lÃºc

### âœ… Phase 4: Authentication & Multi-shop (100% Complete)
- [x] **Supabase Authentication** (100%) - Sign up, login, session management
- [x] **Multi-shop SaaS** (100%) - Multiple shops per user
- [x] **Quote History** (100%) - Save and view past quotes
- [x] **Database Integration** (100%) - Prisma + Supabase PostgreSQL
- [x] **Shop Management** (100%) - CRUD operations for shops
- [x] **User Dashboard** (100%) - Personal dashboard with statistics

### âœ… Phase 5: Advanced Backend (100% Complete)
- [x] **Phase 5A: Email Notifications** (100%)
  - [x] Resend API integration
  - [x] React Email templates (Welcome, Quote, Summary)
  - [x] Email logging system
  - [x] Notification preferences

- [x] **Phase 5B: API Key Management** (100%)
  - [x] Secure API key generation (SHA-256)
  - [x] Permission system (read, write, admin)
  - [x] Rate limiting per key
  - [x] Usage tracking and analytics

- [x] **Phase 5C: Webhook Integrations** (100%)
  - [x] 11 event types (quotes, shops, API keys, emails)
  - [x] HMAC-SHA256 signatures
  - [x] Automatic retry with exponential backoff
  - [x] Delivery logging and monitoring

- [x] **Phase 5D: Scheduled Jobs** (100%)
  - [x] node-cron scheduler (11 jobs)
  - [x] Webhook maintenance (retry, cleanup, health)
  - [x] Email automation (daily/weekly summaries)
  - [x] Database maintenance (cleanup, optimize)

### ğŸš§ Phase 6: Analytics & Reporting (In Progress)
- [ ] **Advanced Analytics** (0%) - Dashboard thá»‘ng kÃª chi tiáº¿t
- [ ] **Cost Analysis** (0%) - PhÃ¢n tÃ­ch chi phÃ­ váº­n chuyá»ƒn
- [ ] **Performance Metrics** (0%) - Theo dÃµi hiá»‡u suáº¥t
- [ ] **Export Reports** (0%) - Xuáº¥t bÃ¡o cÃ¡o PDF/Excel

### ğŸ“‹ Future Phases (Planned)
- [ ] **Mobile App** (0%) - á»¨ng dá»¥ng di Ä‘á»™ng iOS/Android
- [ ] **Payment Integration** (0%) - TÃ­ch há»£p thanh toÃ¡n
- [ ] **Multi-language** (0%) - Há»— trá»£ English, etc.
- [ ] **In tem PDF** (0%) - Print shipping labels
- [ ] **AI Recommendations** (0%) - ML-powered suggestions

### ğŸ“Š Tá»•ng quan tiáº¿n Ä‘á»™
- **Phase 1-3 (Core)**: 100% âœ…
- **Phase 4 (Auth & Multi-shop)**: 100% âœ…
- **Phase 5 (Advanced Backend)**: 100% âœ…
- **Phase 6 (Analytics)**: 0% â³
- **Overall Progress**: 90% (Production Ready)

## ğŸ“š Changelog

### v2.0.0 (Current) - Production Ready ğŸ‰
**NgÃ y phÃ¡t hÃ nh**: ThÃ¡ng 1, 2025

#### âœ… Phase 5: Advanced Backend Features
- Resend email integration vá»›i React Email templates
- API Key management vá»›i SHA-256 hashing vÃ  rate limiting
- Webhook system vá»›i 11 event types vÃ  HMAC signatures
- Scheduled jobs system vá»›i node-cron (11 automated jobs)
- Email notifications (welcome, quote, summaries)
- API key usage tracking vÃ  analytics
- Webhook delivery vá»›i automatic retry
- Database maintenance jobs (cleanup, optimize)

#### âœ… Phase 4: Authentication & Multi-shop
- Supabase Authentication (signup, login, session)
- Multi-shop SaaS architecture
- Quote history vá»›i database persistence
- Shop CRUD operations
- User dashboard vá»›i statistics
- Settings page (notifications, API keys, webhooks, jobs)

#### âœ… Phase 1-3: Core Features
- Khá»Ÿi táº¡o dá»± Ã¡n Next.js 15.5.3 vá»›i TypeScript
- Implement thuáº­t toÃ¡n chuáº©n hÃ³a Ä‘á»‹a chá»‰ Viá»‡t Nam
- Táº¡o component AddressProcessor cho nháº­p liá»‡u
- Táº¡o component ShippingComparison cho so sÃ¡nh phÃ­
- ThÃªm há»— trá»£ vÄƒn báº£n thÃ´ vÃ  CSV input
- Implement chuyá»ƒn Ä‘á»•i 2-cáº¥p sang 3-cáº¥p
- TÃ­ch há»£p GHN, GHTK, VTP API realtime
- ThÃªm tÃ­nh nÄƒng export CSV
- Design responsive UI vá»›i Tailwind CSS
- Tá»‘i Æ°u hÃ³a performance vÃ  build

#### ğŸ› Bug fixes
- Sá»­a lá»—i parsing Ä‘á»‹a chá»‰ cÃ³ dáº¥u Ä‘áº·c biá»‡t
- Cáº£i thiá»‡n nháº­n diá»‡n tá»‰nh thÃ nh vá»›i nhiá»u alias
- Fix responsive layout trÃªn mobile
- Fix TypeScript errors trong scheduled jobs
- Fix webhook delivery retry logic
- Fix API key rate limiting

### v1.0.0 - MVP Release
**NgÃ y phÃ¡t hÃ nh**: ThÃ¡ng 12, 2024
- Core address processing features
- Mock shipping quotes
- Basic UI/UX

### v0.1.0 - Initial Setup
**NgÃ y phÃ¡t hÃ nh**: ThÃ¡ng 11, 2024
- Project initialization
- Basic folder structure

## ğŸ¤ ÄÃ³ng gÃ³p

Má»i Ä‘Ã³ng gÃ³p Ä‘á»u Ä‘Æ°á»£c chÃ o Ä‘Ã³n! HÃ£y:
1. Fork repository
2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Má»Ÿ Pull Request

## ğŸ“„ License

Distributed under the ISC License. See `LICENSE` for more information.

## ğŸ“ LiÃªn há»‡

- **Email**: support@addressify.vn
- **GitHub**: [@cuongccna](https://github.com/cuongccna)

## ğŸ™ Acknowledgments

### Core Technologies
- [Next.js](https://nextjs.org/) - React framework
- [Tailwind CSS](https://tailwindcss.com/) - CSS framework
- [TypeScript](https://www.typescriptlang.org/) - Type safety

### Backend & Database
- [Supabase](https://supabase.com/) - PostgreSQL database vÃ  authentication
- [Prisma](https://www.prisma.io/) - Next-generation ORM
- [Resend](https://resend.com/) - Email API for developers
- [React Email](https://react.email/) - Email templates

### Integrations
- [node-cron](https://github.com/node-cron/node-cron) - Task scheduler
- [GHN API](https://api.ghn.vn/) - Giao HÃ ng Nhanh
- [GHTK API](https://docs.giaohangtietkiem.vn/) - Giao HÃ ng Tiáº¿t Kiá»‡m
- [Viettel Post API](https://viettelpost.com.vn/) - Viettel Post

### Community
- Cá»™ng Ä‘á»“ng developer Viá»‡t Nam
- Open source contributors

---

**Made with â¤ï¸ for Vietnamese e-commerce sellers**